{% schema %}
  {
    "name": "Homepage Carousel",
    "settings": []
  }
{% endschema %}

<section class="raquetas-section">
  <div class="img-background">
    <div class="img-container">
      <span class="title">
        Nuestras
        <span class="text-style-1">Raquetas</span>
      </span>
      <span class="description">
        Conoce nuestras raquetas y aprende a jugar Tennis como un profesional.
      </span>
      <div class="carousel-indicators">
        {% for product in collections['raquetas'].products %}
          <span class="indicator {% if forloop.first %}active{% endif %}" data-index="{{ forloop.index0 }}"></span>
        {% endfor %}
      </div>
      <div class="arrows-container">
        <button class="arrow-left" onclick="prevSlide()">
          <span>&#9664;</span>
        </button>
        <button class="arrow-right" onclick="nextSlide()">
          <img
            src="{{ 'group-copy-2.svg' | asset_url }}"
            width="72px"
            height="72px">
        </button>
      </div>
    </div>
  </div>
  <div class="carousel-container">
    <ul class="carousel">
      {% for product in collections['raquetas'].products %}
        <li class="carousel-item">
          <span class="item-index">{{ forloop.index }}</span>
          <img
            src="{{ product.featured_image | img_url: 'medium' }}"
            width="288px"
            height="344px"
            alt="{{ product.title }}">
        </li>
      {% endfor %}
    </ul>
  </div>
</section>

<script>
  let currentIndex = 0;
  const slides = document.querySelectorAll('.carousel-item');

  function updateCarousel() {
    const carousel = document.querySelector('.carousel');
    if (carousel) {
      carousel.style.transform = `translateX(-${currentIndex * 37}%)`;
    }

    document.querySelectorAll('.indicator').forEach((dot, index) => {
    dot.classList.toggle('active', index === currentIndex);
  });
  }

  function nextSlide() {
    if (currentIndex < slides.length - 1) {
      currentIndex++;
    } else {
      currentIndex = 0;
    }
    updateCarousel();
  }

  function prevSlide() {
    if (currentIndex > 0) {
      currentIndex--;
    } else {
      currentIndex = slides.length - 1;
    }
    updateCarousel();
  }
</script>

<style>
  .raquetas-section {
    width: 100%;
    height: 468px;
    display: flex;
  }
  .img-background {
    background-image: url("../assets/ball-color-court-1405355.jpg");
    height: 468px;
    width: 530px;
    margin-left: 3px;
  }
  .img-container {
    width: 303px;
    height: 100%;
    margin-right: 27px;
    margin-left: 200px;
  }
  .img-container .title {
    display: inline-block;
    align-content: center;
    width: 259px;
    height: 151px;
    margin: 38px 44px 0 10px;
    font-family: HelveticaNeue;
    font-size: 50px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.28;
    letter-spacing: -0.06px;
    color: #fff;
  }
  .img-container .title .text-style-1 {
    font-weight: bold;
  }
  .img-container .description {
    display: inline-block;
    width: 303px;
    height: 100px;
    margin: 8px 0 -1px 10px;
    font-family: HelveticaNeue;
    font-size: 18px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.67;
    letter-spacing: 0.51px;
    color: #fff;
  }
  .arrows-container {
    display: flex;
    align-items: flex-start;
    margin-bottom: 10px;
    margin-left: 3px;
  }
  .arrow-left {
    width: 54px;
    height: 54px;
    margin: 5px 14px 0 -10px;
    padding-top: 4px;
    padding-left: 5px;
    border-radius: 30px;
    border: solid 1px #fff;
    background-color: transparent;
    cursor: pointer;
  }
  .arrow-left span {
    color: #fff;
    font-size: 13px;
  }
  .arrow-right {
    padding: 0;
    border-radius: 40px;
    height: 70px;
    width: 70px;
    border: 0;
    background-color: transparent;
    cursor: pointer;
  }
  .carousel-container {
    flex: 1;
    overflow: hidden;
    position: relative;
    height: 468px;
  }
  .carousel {
    display: flex;
    transition: transform 0.5s ease;
    padding-left: 34px;
    margin-top: 51px;
  }
  .carousel-item {
    width: 288px;
    text-align: center;
    list-style-type: none;
    margin-left: 18px;
    margin-right: 18px;
    position: relative;
  }
  .item-index {
    position: absolute;
    left: 17px;
    top: 11px;
    background-color: #cbe346;
    width: 39px;
    height: 39px;
    border-radius: 20px;
    font-family: HelveticaNeue;
    font-size: 17px;
    font-weight: normal;
    font-stretch: normal;
    font-style: normal;
    line-height: 1.76;
    letter-spacing: 2.11px;
    text-align: center;
    color: #fff;
    padding-top: 4px;
    padding-left: 2px;
  }
  .carousel-indicators {
    display: inline-flex;
    justify-content: center;
    gap: 23px;
    margin-bottom: 35px;
    margin-left: 9px;
  }
  .indicator {
    width: 7px;
    height: 7px;
    background-color: #fff;
    border-radius: 50%;
    cursor: pointer;
  }
  .indicator.active {
    background-color: #cbe346;
  }
</style>